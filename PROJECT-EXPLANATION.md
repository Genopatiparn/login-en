# ЁЯУЪ р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕Чр╕╕р╕Бр╣Др╕Яр╕ер╣Мр╣Гр╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М Person Management System

## ЁЯПЧя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М

```
myapi-login-main/
тФЬтФАтФА ЁЯУБ bin/                    # р╣Др╕Яр╕ер╣Мр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М
тФЬтФАтФА ЁЯУБ config/                 # р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕гр╕░р╕Ър╕Ъ
тФЬтФАтФА ЁЯУБ middleware/             # р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕ер╕▓р╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е
тФЬтФАтФА ЁЯУБ models/                 # р╣Вр╕бр╣Ар╕Фр╕ер╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
тФЬтФАтФА ЁЯУБ routes/                 # р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З API
тФЬтФАтФА ЁЯУБ public/                 # р╣Др╕Яр╕ер╣Мр╕кр╕▓р╕Шр╕▓р╕гр╕Ур╕░ (CSS, JS, р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю)
тФЬтФАтФА ЁЯУБ views/                  # р╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Х HTML
тФЬтФАтФА ЁЯУБ uploads/                # р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
тФЬтФАтФА ЁЯУД app.js                  # р╣Др╕Яр╕ер╣Мр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ
тФЬтФАтФА ЁЯУД .env                    # р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕б
тФФтФАтФА ЁЯУД package.json            # р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╣Бр╕ер╕░ dependencies
```

---

## ЁЯз╣ р╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕ер╣Ир╕▓р╕кр╕╕р╕Ф (Cleanup)
- тЬЕ р╕ер╕Ър╕гр╕░р╕Ър╕Ъ Admin Reset р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕нр╕нр╕Бр╣Бр╕ер╣Йр╕з (adminReset.js)
- тЬЕ р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╕Лр╣Йр╕│р╕Лр╣Йр╕нр╕Щ
- тЬЕ р╕ер╕Ъ routes р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ (/admin/reset-password, /admin/users, /admin/generate-password)
- тЬЕ р╕гр╕░р╕Ър╕Ър╣Гр╕Кр╣Йр╕Бр╕▓р╕гр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в (username + email + phone) р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ

---

# ЁЯЪА р╣Др╕Яр╕ер╣Мр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

## 1. ЁЯУД package.json - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Бр╕│р╕лр╕Щр╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╣Бр╕ер╕░ dependencies р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й

**р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф:**
- **name:** "myapi1" - р╕Кр╕╖р╣Ир╕нр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М
- **version:** "0.0.0" - р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М
- **scripts:** р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Чр╕╡р╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Щр╣Др╕Фр╣Й
  - `npm start` тЖТ р╕гр╕▒р╕Щ `node ./bin/www`

**Dependencies р╕Чр╕╡р╣Ир╕кр╕│р╕Др╕▒р╕Н:**
- **bcrypt:** р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ
- **express:** р╣Ар╕зр╣Зр╕Ър╣Ар╕Яр╕гр╕бр╣Ар╕зр╕┤р╕гр╣Мр╕Б
- **mongoose:** р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н MongoDB
- **multer:** р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
- **dotenv:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕б
- **express-session:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕г session
- **morgan:** р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б HTTP requests
- **pug:** р╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Х engine

---

## 2. ЁЯУД bin/www - р╕Ир╕╕р╕Фр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ HTTP server р╣Бр╕ер╕░р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н

**р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **Import app.js:** р╕Щр╕│р╣Ар╕Вр╣Йр╕▓р╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щр╕лр╕ер╕▒р╕Б
2. **р╕Бр╕│р╕лр╕Щр╕Ф Port:** р╣Гр╕Кр╣Й PORT р╕Ир╕▓р╕Б environment р╕лр╕гр╕╖р╕н 3000
3. **р╕кр╕гр╣Йр╕▓р╕З HTTP Server:** р╣Гр╕Кр╣Й `http.createServer(app)`
4. **р╣Ар╕гр╕┤р╣Ир╕б Listen:** р╕гр╕нр╕гр╕▒р╕Ъ requests р╕Ир╕▓р╕Бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
5. **р╕Ир╕▒р╕Фр╕Бр╕▓р╕г Errors:** р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕Чр╕╡р╣Ир╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Зр╣Ир╕▓р╕в

**р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕кр╕│р╕Др╕▒р╕Н:**
- `normalizePort()` - р╣Бр╕Ыр╕ер╕З port р╣Ар╕Ыр╣Зр╕Щр╕Хр╕▒р╕зр╣Ар╕ер╕В
- `onError()` - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г error р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕гр╕┤р╣Ир╕бр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М
- `onListening()` - р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕Юр╕гр╣Йр╕нр╕б

---

## 3. ЁЯУД app.js - р╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕нр╕Зр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Бр╕ер╕░р╕Бр╕│р╕лр╕Щр╕Фр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ

**р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Чр╕╡р╕ер╕░р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ:**

### ЁЯФз р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ
```javascript
require('dotenv').config();  // р╣Вр╕лр╕ер╕Фр╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕Ир╕▓р╕Б .env
const express = require('express');
const app = express();
```

### ЁЯЧДя╕П р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
```javascript
const { connectDB } = require('./config/database');
connectDB();  // р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н MongoDB
```

### ЁЯОи р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ View Engine
```javascript
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'pug');  // р╣Гр╕Кр╣Й Pug р╕кр╕│р╕лр╕гр╕▒р╕Ъ HTML
```

### ЁЯФз Middleware Stack (р╣Ар╕гр╕╡р╕вр╕Зр╕Хр╕▓р╕бр╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ)
1. **Morgan Logger:** р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б HTTP requests
2. **JSON Parser:** р╣Бр╕Ыр╕ер╕З JSON р╣Гр╕Щ request body
3. **URL Encoded Parser:** р╣Бр╕Ыр╕ер╕З form data
4. **Cookie Parser:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕г cookies
5. **Static Files:** р╣Ар╕кр╕┤р╕гр╣Мр╕Яр╣Др╕Яр╕ер╣М static (CSS, JS, р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю)
6. **Session Management:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕г user sessions

### ЁЯЫгя╕П р╕Бр╕▓р╕гр╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З (Routes)
```javascript
app.use('/', indexRouter);           // р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б
app.use('/users', usersRouter);      // р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕▒р╣Ир╕зр╣Др╕Ы
app.use('/api/users', authRouter);   // API р╕кр╕│р╕лр╕гр╕▒р╕Ъ authentication
app.use('/api/persons', personRouter); // API р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕е
```

### тЭМ р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г Error
1. **404 Handler:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕бр╕╖р╣Ир╕нр╣Др╕бр╣Ир╕Юр╕Ър╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З
2. **Error Handler:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕г error р╕Чр╕▒р╣Ир╕зр╣Др╕Ы

---

# ЁЯЧДя╕П р╣Др╕Яр╕ер╣Мр╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓

## 4. ЁЯУД .env - р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕б

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕Др╕▒р╕Нр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Др╕зр╕гр╣Ар╕Ыр╕┤р╕Фр╣Ар╕Ьр╕в

**р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕Чр╕╡р╣Ир╕бр╕╡:**
- **PORT:** р╕Юр╕нр╕гр╣Мр╕Хр╕Чр╕╡р╣Ир╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕Ир╕░р╕гр╕▒р╕Щ (3000)
- **MONGODB_URI:** URL р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н MongoDB
- **USERS_FILE:** р╣Др╕Яр╕ер╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (р╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Гр╕Кр╣Й)
- **DEFAULT_DESCRIPTION:** р╕Др╣Ир╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ

---

## 5. ЁЯУД config/database.js - р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ MongoDB

**р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ URI:** р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ MONGODB_URI р╣Гр╕Щ .env р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
2. **р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Timezone:** р╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕Ыр╣Зр╕Щ Asia/Bangkok (+07:00)
3. **р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н MongoDB:** р╣Гр╕Кр╣Й mongoose.connect()
4. **р╕Ир╕▒р╕Фр╕Бр╕▓р╕г Error:** р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╣Бр╕ер╕░р╕лр╕вр╕╕р╕Фр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б

**р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Юр╕┤р╣Ар╕ир╕й:**
- р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕зр╕ер╕▓р╣Ар╕Ыр╣Зр╕Щр╣Ар╕зр╕ер╕▓р╣Др╕Чр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- р╕Ир╕▒р╕Фр╕Бр╕▓р╕г error р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б

---

# ЁЯЧГя╕П р╣Вр╕бр╣Ар╕Фр╕ер╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

## 6. ЁЯУД models/User.js - р╣Вр╕бр╣Ар╕Фр╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Бр╕│р╕лр╕Щр╕Фр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕Яр╕┤р╕ер╕Фр╣Мр╕Чр╕╡р╣Ир╕бр╕╡:**
- **id:** р╕гр╕лр╕▒р╕кр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (р╣Др╕бр╣Ир╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
- **username:** р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ, р╣Др╕бр╣Ир╕Лр╣Йр╕│)
- **password:** р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ, р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕Фр╣Йр╕зр╕в bcrypt)
- **email:** р╕нр╕╡р╣Ар╕бр╕е (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ, р╣Др╕бр╣Ир╕Лр╣Йр╕│)
- **firstName:** р╕Кр╕╖р╣Ир╕нр╕Ир╕гр╕┤р╕З (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
- **lastName:** р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
- **phone:** р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г
- **age:** р╕нр╕▓р╕вр╕╕
- **role:** р╕Ър╕Чр╕Ър╕▓р╕Ч (default: 'user')
  // р╕Яр╕┤р╕ер╕Фр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ъ reset password (Security Questions)
  resetToken: {
    type: String
  },
  resetTokenExpiry: {
    type: Date
  },
  // р╕Яр╕┤р╕ер╕Фр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕Др╕│р╕Хр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕бр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з
  tempSecurityAnswers: {
    type: String
  }

**р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Юр╕┤р╣Ар╕ир╕й:**
- **timestamps:** р╣Ар╕Юр╕┤р╣Ир╕б createdAt р╣Бр╕ер╕░ updatedAt р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- **toJSON transform:** р╣Бр╕Ыр╕ер╕Зр╣Ар╕зр╕ер╕▓р╣Ар╕Ыр╣Зр╕Щр╣Ар╕зр╕ер╕▓р╣Др╕Чр╕в (+07:00)
- **reset password security:** р╕гр╕░р╕Ър╕Ъ Token р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

---

## 7. ЁЯУД models/LoggedInUser.js - р╣Вр╕бр╣Ар╕Фр╕ер╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕╡р╣Ир╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕нр╕вр╕╣р╣И

**р╕Яр╕┤р╕ер╕Фр╣Мр╕Чр╕╡р╣Ир╕бр╕╡:**
- **id:** р╕гр╕лр╕▒р╕к (р╣Др╕бр╣Ир╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ, р╣Др╕бр╣Ир╕Лр╣Йр╕│)
- **username:** р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ, р╣Др╕бр╣Ир╕Лр╣Йр╕│)
- **loginTime:** р╣Ар╕зр╕ер╕▓р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ (default: р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ)

**р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**
- р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕г login р╕Лр╣Йр╕│
- р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕╡р╣И online
- р╕Ир╕▒р╕Фр╕Бр╕▓р╕г logout

---

## 8. ЁЯУД models/Person.js - р╣Вр╕бр╣Ар╕Фр╕ер╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕е

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕ер╣Бр╕Ър╕Ър╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф (100+ р╕Яр╕┤р╕ер╕Фр╣М)

**р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Вр╣Йр╕нр╕бр╕╣р╕е:**

### ЁЯСд р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ
- р╕Кр╕╖р╣Ир╕н-р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е (р╣Др╕Чр╕в/р╕нр╕▒р╕Зр╕Бр╕др╕й)
- р╕нр╕▓р╕вр╕╕, р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г, р╕нр╕╡р╣Ар╕бр╕е
- р╕Ыр╕гр╕░р╣Ар╕ар╕Ч (student/employee/other)

### ЁЯЖФ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕▒р╕Хр╕гр╕Ыр╕гр╕░р╕Кр╕▓р╕Кр╕Щ
- р╣Ар╕ер╕Вр╕Ър╕▒р╕Хр╕гр╕Ыр╕гр╕░р╕Кр╕▓р╕Кр╕Щ
- р╕зр╕▒р╕Щр╣Ар╕Бр╕┤р╕Ф, р╕кр╕Цр╕▓р╕Щр╕Чр╕╡р╣Ир╣Ар╕Бр╕┤р╕Ф
- р╕кр╕▒р╕Нр╕Кр╕▓р╕Хр╕┤, р╣Ар╕Кр╕╖р╣Йр╕нр╕Кр╕▓р╕Хр╕┤, р╕ир╕▓р╕кр╕Щр╕▓

### ЁЯПа р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И
- р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Хр╕▓р╕бр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕Ър╣Йр╕▓р╕Щ
- р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
- р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╕нр╕▓р╕ир╕▒р╕в

### ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕гр╕нр╕Ър╕Др╕гр╕▒р╕з
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕┤р╕Фр╕▓-р╕бр╕▓р╕гр╕Фр╕▓
- р╕кр╕Цр╕▓р╕Щр╕░р╕кр╕бр╕гр╕к, р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕╣р╣Ир╕кр╕бр╕гр╕к
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Хр╕г

### ЁЯОУ р╕Бр╕▓р╕гр╕ир╕╢р╕Бр╕йр╕▓
- р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕ир╕╢р╕Бр╕йр╕▓ (2 р╕гр╕░р╕Фр╕▒р╕Ъ)
- р╣Гр╕Ър╕гр╕▒р╕Ър╕гр╕нр╕З, р╕Чр╕▒р╕Бр╕йр╕░
- р╕ар╕▓р╕йр╕▓р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Др╕Фр╣Й

### ЁЯТ╝ р╕Ыр╕гр╕░р╕кр╕Ър╕Бр╕▓р╕гр╕Ур╣Мр╕Чр╕│р╕Зр╕▓р╕Щ
- р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ (2 р╣Бр╕лр╣Ир╕З)
- р╣Ар╕Зр╕┤р╕Щр╣Ар╕Фр╕╖р╕нр╕Щ, р╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕ер╕▓р╕нр╕нр╕Б

### ЁЯУЛ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕ер╕░р╣Гр╕Ър╕нр╕Щр╕╕р╕Нр╕▓р╕Х
- р╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕нр╣Ар╕Фр╕┤р╕Щр╕Чр╕▓р╕З
- р╣Гр╕Ър╕Вр╕▒р╕Ър╕Вр╕╡р╣И (р╕гр╕Цр╕вр╕Щр╕Хр╣М/р╕бр╕нр╣Ар╕Хр╕нр╕гр╣Мр╣Др╕Лр╕Др╣М)
- р╣Гр╕Ър╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╕Чр╕│р╕Зр╕▓р╕Щ

### ЁЯПе р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕╕р╕Вр╕ар╕▓р╕Ю
- р╕кр╣Ир╕зр╕Щр╕кр╕╣р╕З, р╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Б, р╕Бр╕гр╕╕р╣Кр╕Ыр╣Ар╕ер╕╖р╕нр╕Ф
- р╣Др╕Лр╕кр╣Мр╣Ар╕кр╕╖р╣Йр╕нр╕Ьр╣Йр╕▓
- р╣Вр╕гр╕Др╕Ыр╕гр╕░р╕Ир╕│р╕Хр╕▒р╕з, р╕ар╕╣р╕бр╕┤р╣Бр╕Юр╣Й

### ЁЯУ╕ р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
- р╕гр╕╣р╕Ыр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣М (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ, р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 70KB)

---

# ЁЯФз Middleware (р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕ер╕▓р╕З)

## 9. ЁЯУД middleware/upload.js - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

**р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Multer:**
```javascript
const storage = multer.diskStorage({
  destination: 'uploads/',  // р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╣Ар╕Бр╣Зр╕Ър╣Др╕Яр╕ер╣М
  filename: 'image-[timestamp]-[random].[ext]'  // р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣Мр╣Др╕бр╣Ир╕Лр╣Йр╕│
});
```

**р╕Вр╣Йр╕нр╕Ир╕│р╕Бр╕▒р╕Ф:**
- **р╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М:** р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 70KB (71,680 bytes)
- **р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Др╕Яр╕ер╣М:** jpg, jpeg, png, gif р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

**р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:**
1. **File Filter:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Др╕Яр╕ер╣М
2. **Size Limit:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М
3. **Error Handling:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕г error р╣Бр╕Хр╣Ир╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Ч

**р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ handleFileUpload:**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Content-Type
- р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е multipart/form-data
- р╣Ар╕Бр╣Зр╕Ър╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣Мр╣Гр╕Щ req.uploadedImage

---

## 10. ЁЯУД middleware/validation.js - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╣Ир╕нр╕Щр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б

**р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕бр╕╡:**

### validatePersonData()
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ (р╕Кр╕╖р╣Ир╕н, р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е, р╕нр╕╡р╣Ар╕бр╕е)
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕нр╕╡р╣Ар╕бр╕е
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕вр╕▓р╕зр╕Вр╣Йр╕нр╕бр╕╣р╕е

### checkDuplicateId()
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ ID р╕Лр╣Йр╕│р╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
- р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Лр╣Йр╕│

**р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. р╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б request
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Хр╕▓р╕бр╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕В
3. р╕кр╣Ир╕Зр╕Хр╣Ир╕нр╕лр╕гр╕╖р╕н return error

---

## 11. ЁЯУД middleware/database.js - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╣Ир╕нр╕Щр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е

**р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ checkDatabaseConnection:**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ mongoose.connection.readyState
- р╕кр╣Ир╕Зр╕Хр╣Ир╕нр╕лр╕гр╕╖р╕н return error
- р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ operation р╣Ар╕бр╕╖р╣Ир╕н DB р╣Др╕бр╣Ир╕Юр╕гр╣Йр╕нр╕б

---

# ЁЯЫгя╕П Routes (р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З API)

## 12. ЁЯУБ routes/auth/ - API Authentication

### ЁЯУД routes/auth/index.js - Router р╕лр╕ер╕▒р╕Б
**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З API р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕кр╕│р╕лр╕гр╕▒р╕Ъ authentication

**р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕╡р╣Ир╕бр╕╡:**
- `POST /login` тЖТ login.js
- `POST /register` тЖТ register.js
- `POST /logout` тЖТ logout.js
- `POST /changepassword` тЖТ changePassword.js
- `POST /forgotpassword` тЖТ forgotPassword() (р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в)
- `GET /` тЖТ getAllUsers()
- `GET /:role` тЖТ getUsersByRole()
- `DELETE /:id` тЖТ deleteUser.js

---

### ЁЯУД routes/auth/register.js - р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╣Гр╕лр╕бр╣И

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е:** username, password, email, firstName, lastName, phone, age, role
2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ:** username, password, email, firstName, lastName
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Лр╣Йр╕│:** username р╣Бр╕ер╕░ email р╕Хр╣Йр╕нр╕Зр╣Др╕бр╣Ир╕Лр╣Йр╕│
4. **р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ:** р╣Гр╕Кр╣Й bcrypt.hash() р╕Бр╕▒р╕Ъ saltRounds = 10
5. **р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:** р╕кр╕гр╣Йр╕▓р╕З User р╣Гр╕лр╕бр╣И
6. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (р╣Др╕бр╣Ир╕гр╕зр╕бр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ)

**Error Handling:**
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕Др╕гр╕Ъ
- username/email р╕Лр╣Йр╕│
- р╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

---

### ЁЯУД routes/auth/login.js - р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ DB:** р╕Фр╕╣р╕зр╣Ир╕▓р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕гр╕╖р╕нр╣Др╕бр╣И
2. **р╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е:** username/email р╣Бр╕ер╕░ password
3. **р╕Др╣Йр╕Щр╕лр╕▓р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й:** р╣Гр╕Кр╣Й $or query р╕лр╕▓ username р╕лр╕гр╕╖р╕н email
4. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ:** р╣Гр╕Кр╣Й bcrypt.compare()
5. **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕Цр╕▓р╕Щр╕░ Login:**
   - р╕Цр╣Йр╕▓р╕бр╕╡ login р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з тЖТ р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Ар╕зр╕ер╕▓
   - р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕бр╕╡ тЖТ р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╕бр╣И
6. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й

**р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Юр╕┤р╣Ар╕ир╕й:**
- р╕гр╕нр╕Зр╕гр╕▒р╕Ъ login р╕Фр╣Йр╕зр╕в username р╕лр╕гр╕╖р╕н email
- р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ login р╕Лр╣Йр╕│ (р╣Бр╕Хр╣Ир╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╣Гр╕лр╣Йр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Ар╕зр╕ер╕▓)
- Logging р╕кр╕│р╕лр╕гр╕▒р╕Ъ debug

---

### ЁЯУД routes/auth/logout.js - р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е:** username р╕лр╕гр╕╖р╕н email
2. **р╕Др╣Йр╕Щр╕лр╕▓р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╣Гр╕Щр╕гр╕░р╕Ър╕Ър╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕Цр╕▓р╕Щр╕░:** р╕Фр╕╣р╕зр╣Ир╕▓ login р╕нр╕вр╕╣р╣Ир╕лр╕гр╕╖р╕нр╣Др╕бр╣И
4. **р╕ер╕Ър╕кр╕Цр╕▓р╕Щр╕░:** р╕ер╕Ър╕Ир╕▓р╕Б LoggedInUser collection
5. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Бр╕▓р╕г logout

---

### ЁЯУД routes/auth/changePassword.js - р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е:** username, oldPassword, newPassword
2. **р╕Др╣Йр╕Щр╕лр╕▓р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡ username р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕лр╕▒р╕кр╣Ар╕Бр╣Ир╕▓:** р╣Гр╕Кр╣Й bcrypt.compare()
4. **р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕гр╕лр╕▒р╕кр╣Гр╕лр╕бр╣И:** р╣Гр╕Кр╣Й bcrypt.hash()
5. **р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:** р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Гр╕лр╕бр╣И
6. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ

**р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в:**
- р╕Хр╣Йр╕нр╕Зр╣Гр╕кр╣Ир╕гр╕лр╕▒р╕кр╣Ар╕Бр╣Ир╕▓р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- р╕гр╕лр╕▒р╕кр╣Гр╕лр╕бр╣Ир╕Цр╕╣р╕Бр╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕Бр╣Ир╕нр╕Щр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б

---

### ЁЯУД routes/auth/forgotPassword.js - р╕ер╕╖р╕бр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ (р╕гр╕░р╕Ър╕Ър╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в)

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╕Фр╣Йр╕зр╕вр╕Бр╕▓р╕гр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щ (username + email + phone)

**р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕ер╣Ир╕▓р╕кр╕╕р╕Ф:**
- р╕Ыр╕гр╕▒р╕Ър╣Ар╕Ыр╣Зр╕Щр╕гр╕░р╕Ър╕Ър╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в (1 р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╣Ар╕Фр╕╡р╕вр╕з)
- р╣Гр╕Кр╣Й username + email + phone р╣Ар╕Юр╕╖р╣Ир╕нр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щ
- р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╕Фр╣Йр╕зр╕в bcrypt р╣Ар╕Юр╕╖р╣Ир╕нр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в
- р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й token р╕лр╕гр╕╖р╕н session р╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡р╕лр╕▓р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

**р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕бр╕╡:**
1. **forgotPassword()** - р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕ер╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ

**р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╣Ар╕Фр╕╡р╕вр╕з: р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕ер╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ
```javascript
POST /api/users/forgotpassword
{
  "username": "testuser",           // р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
  "email": "test@example.com",      // р╕нр╕╡р╣Ар╕бр╕ер╣Ар╕Юр╕╖р╣Ир╕нр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щ
  "phone": "0812345678",           // р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕гр╣Ар╕Юр╕╖р╣Ир╕нр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щ
  "newPassword": "newpass123"      // р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Гр╕лр╕бр╣Ир╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕З
}
```

**Response р╕лр╕▓р╕Бр╕кр╕│р╣Ар╕гр╣Зр╕И:**
```javascript
{
  "message": "р╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕вр╣Бр╕ер╣Йр╕з р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕вр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Гр╕лр╕бр╣Ир╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡",
  "username": "testuser"
}
      "id": 1,
      "question": "р╕нр╕╡р╣Ар╕бр╕ер╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕Вр╕╢р╣Йр╕Щр╕Хр╣Йр╕Щр╕Фр╣Йр╕зр╕вр╕нр╕▒р╕Бр╕йр╕гр╕нр╕░р╣Др╕г?",
      "hint": "р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╣Бр╕гр╕Бр╕Вр╕нр╕Зр╕нр╕╡р╣Ар╕бр╕е j***"
    },
    {
      "id": 2, 
      "question": "р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕ер╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕бр╕╡р╕Бр╕╡р╣Ир╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г?",
      "hint": "р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е: D***"
    }
  ]
}
```

**р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в:**
- тЬЕ **р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╕лр╕ер╕▓р╕вр╕Кр╕▒р╣Йр╕Щ** - р╕Хр╣Йр╕нр╕Зр╕гр╕╣р╣Й username + email + phone
- тЬЕ **р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ** - р╣Гр╕Кр╣Й bcrypt saltRounds = 10
- тЬЕ **р╣Др╕бр╣Ир╕бр╕╡ token р╕лр╕гр╕╖р╕н session** - р╕ер╕Фр╕Др╕зр╕▓р╕бр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ
- тЬЕ **р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Чр╕▒р╕Щр╕Чр╕╡** - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕нр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б
- тЬЕ **р╕Зр╣Ир╕▓р╕вр╣Бр╕ер╕░р╕гр╕зр╕Фр╣Ар╕гр╣Зр╕з** - 1 р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╣Ар╕Фр╕╡р╕вр╕з

**р╕Вр╣Йр╕нр╕Фр╕╡:**
- **р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕нр╕╡р╣Ар╕бр╕е** - р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡
- **р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕│р╣Ар╕нр╕З** - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕нр╣Бр╕нр╕Фр╕бр╕┤р╕Щ
- **р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕Юр╕нр╕кр╕бр╕Др╕зр╕г** - р╕Хр╣Йр╕нр╕Зр╕гр╕╣р╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╣Ир╕зр╕Щр╕Хр╕▒р╕з 3 р╕нр╕вр╣Ир╕▓р╕З
- **р╕гр╕зр╕Фр╣Ар╕гр╣Зр╕з** - р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡

---

### ЁЯУД routes/auth/getUsers.js - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

**р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕бр╕╡:**

#### getAllUsers()
- р╕Фр╕╢р╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- р╕кр╣Ир╕Зр╕Бр╕ер╕▒р╕Ър╕Юр╕гр╣Йр╕нр╕б total count

#### getUsersByRole()
- р╕Фр╕╢р╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Хр╕▓р╕б role
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕гр╕╖р╕нр╣Др╕бр╣И

---

### ЁЯУД routes/auth/deleteUser.js - р╕ер╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕ер╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕гр╕▒р╕Ъ ID:** р╕Ир╕▓р╕Б URL parameter
2. **р╕Др╣Йр╕Щр╕лр╕▓р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. **р╕ер╕Ър╕кр╕Цр╕▓р╕Щр╕░ Login:** р╕ер╕Ър╕Ир╕▓р╕Б LoggedInUser
4. **р╕ер╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й:** р╕ер╕Ър╕Ир╕▓р╕Б User collection
5. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Бр╕▓р╕гр╕ер╕Ъ

---

## 13. ЁЯУБ routes/persons/ - API р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕е

### ЁЯУД routes/persons/index.js - Router р╕лр╕ер╕▒р╕Б

**р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕╡р╣Ир╕бр╕╡:**
- `GET /` тЖТ getAllPersons.js
- `GET /:id` тЖТ getPersonById.js
- `POST /` тЖТ createPerson.js
- `PUT /:id` тЖТ updatePerson.js
- `DELETE /:id` тЖТ deletePerson.js

---

### ЁЯУД routes/persons/getAllPersons.js - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

**р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
- р╣Гр╕Кр╣Й Person.find({}) р╕Фр╕╢р╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- р╕кр╣Ир╕Зр╕Бр╕ер╕▒р╕Ър╕Юр╕гр╣Йр╕нр╕б total count
- р╕Ир╕▒р╕Фр╕Бр╕▓р╕г error

---

### ЁЯУД routes/persons/getPersonById.js - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▓р╕б ID

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕ер╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з

**р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ DB:** р╣Гр╕Кр╣Й checkDatabaseConnection middleware
2. **р╕гр╕▒р╕Ъ ID:** р╕Ир╕▓р╕Б URL parameter
3. **р╕Др╣Йр╕Щр╕лр╕▓:** р╣Гр╕Кр╣Й Person.findOne({ id: id })
4. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕ер╕лр╕гр╕╖р╕н 404

---

### ЁЯУД routes/persons/createPerson.js - р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╕бр╣И

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕ер╣Гр╕лр╕бр╣И (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╣Гр╕кр╣Ир╕гр╕╣р╕Ы)

**Middleware Stack:**
1. **handleFileUpload:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ы
2. **validatePersonData:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
3. **processCreatePerson:** р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕лр╕ер╕▒р╕Б

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕╣р╕Ыр╕ар╕▓р╕Ю:** р╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╕Хр╣Йр╕нр╕Зр╕бр╕╡ (р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 70KB)
2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е:** firstName, lastName, email (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
3. **р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Вр╣Йр╕нр╕бр╕╣р╕е:**
   - р╣Бр╕Ыр╕ер╕З numberOfChildren р╣Ар╕Ыр╣Зр╕Щр╕Хр╕▒р╕зр╣Ар╕ер╕В
   - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕е 100+ р╕Яр╕┤р╕ер╕Фр╣М
   - р╕Бр╕│р╕лр╕Щр╕Фр╕Др╣Ир╕▓ default
4. **р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:** р╕кр╕гр╣Йр╕▓р╕З Person р╣Гр╕лр╕бр╣И
5. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з

**р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Юр╕┤р╣Ар╕ир╕й:**
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ 100+ р╕Яр╕┤р╕ер╕Фр╣М
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╣Йр╕нр╕бр╕╣р╕е
- р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

---

### ЁЯУД routes/persons/updatePerson.js - р╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕е

**Middleware Stack:**
1. **handleFileUpload:** р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕╣р╕Ыр╣Гр╕лр╕бр╣И (р╕Цр╣Йр╕▓р╕бр╕╡)
2. **checkDuplicateId:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ ID р╕Лр╣Йр╕│
3. **processUpdatePerson:** р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕лр╕ер╕▒р╕Б

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕гр╕▒р╕Ъ ID:** р╕Ир╕▓р╕Б URL parameter
2. **р╣Ар╕Хр╕гр╕╡р╕вр╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е:** р╕ер╕Ъ _id р╣Бр╕ер╕░ __v р╕нр╕нр╕Б
3. **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕╣р╕Ыр╣Гр╕лр╕бр╣И:** р╕Цр╣Йр╕▓р╕бр╕╡р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
4. **р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:** р╣Гр╕Кр╣Й findOneAndUpdate
5. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Бр╕ер╣Йр╕з

**р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:**
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Ар╕Йр╕Юр╕▓р╕░р╕Яр╕┤р╕ер╕Фр╣Мр╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╕бр╕▓
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕бр╕╡р╕нр╕вр╕╣р╣Ир╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

---

### ЁЯУД routes/persons/deletePerson.js - р╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕е

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ DB:** р╣Гр╕Кр╣Й checkDatabaseConnection
2. **р╕гр╕▒р╕Ъ ID:** р╕Ир╕▓р╕Б URL parameter
3. **р╕Др╣Йр╕Щр╕лр╕▓р╣Бр╕ер╕░р╕ер╕Ъ:** р╣Гр╕Кр╣Й findOneAndDelete
4. **р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Бр╕▓р╕гр╕ер╕Ъ

---

# ЁЯОи р╣Др╕Яр╕ер╣М Frontend

## 14. ЁЯУБ views/ - р╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Х HTML

### ЁЯУД views/layout.pug - р╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Хр╕лр╕ер╕▒р╕Б
**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕З HTML р╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ

### ЁЯУД views/index.pug - р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б
**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╕лр╕Щр╣Йр╕▓р╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ъ

### ЁЯУД views/error.pug - р╕лр╕Щр╣Йр╕▓ Error
**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф

---

## 15. ЁЯУБ public/ - р╣Др╕Яр╕ер╣М Static

### ЁЯУД public/stylesheets/style.css
**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** CSS р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕Бр╣Бр╕Хр╣Ир╕Зр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ

---

# ЁЯУБ р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕нр╕╖р╣Ир╕Щр╣Ж

## 16. ЁЯУБ uploads/ - р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Ар╕Бр╣Зр╕Ър╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕Чр╕╡р╣Ир╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
- р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Гр╕лр╣Йр╣Ар╕Ыр╣Зр╕Щ static folder
- р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╣Др╕Фр╣Йр╕Ьр╣Ир╕▓р╕Щ /uploads/filename

## 17. ЁЯУБ node_modules/ - Dependencies
**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И:** р╣Ар╕Бр╣Зр╕Ъ packages р╕Чр╕╡р╣Ир╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Ьр╣Ир╕▓р╕Щ npm

---

# ЁЯФД Flow р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

## р╕Бр╕▓р╕гр╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б
1. р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕кр╣Ир╕З POST /api/users/register
2. р╕Ьр╣Ир╕▓р╕Щ middleware тЖТ routes/auth/index.js
3. р╣Ар╕гр╕╡р╕вр╕Б register.js
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ тЖТ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б DB
5. р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Бр╕ер╕▒р╕Ъ

## р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
1. р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕кр╣Ир╕З POST /api/users/login
2. р╕Ьр╣Ир╕▓р╕Щ middleware тЖТ routes/auth/index.js
3. р╣Ар╕гр╕╡р╕вр╕Б login.js
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ тЖТ р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕Цр╕▓р╕Щр╕░
5. р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Бр╕ер╕▒р╕Ъ

## р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕е
1. р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕кр╣Ир╕З POST /api/persons/ (form-data + р╕гр╕╣р╕Ы)
2. р╕Ьр╣Ир╕▓р╕Щ middleware тЖТ routes/persons/index.js
3. р╣Ар╕гр╕╡р╕вр╕Б createPerson.js
4. handleFileUpload тЖТ validatePersonData тЖТ processCreatePerson
5. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕╣р╕Ы тЖТ р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б DB
6. р╕кр╣Ир╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Бр╕ер╕▒р╕Ъ

---

# ЁЯФТ р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

## р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕к
- **bcrypt:** р╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╕Фр╣Йр╕зр╕в salt rounds = 10
- **One-way hashing:** р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Цр╕нр╕Фр╕гр╕лр╕▒р╕кр╕Бр╕ер╕▒р╕Ър╣Др╕Фр╣Й

## р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣М
- **р╕Вр╕Щр╕▓р╕Ф:** р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 70KB
- **р╕Ыр╕гр╕░р╣Ар╕ар╕Ч:** jpg, jpeg, png, gif р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ
- **р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М:** р╕кр╕╕р╣Ир╕бр╣Др╕бр╣Ир╕Лр╣Йр╕│

## р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
- **Input validation:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╣Ир╕нр╕Щр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
- **Duplicate check:** р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Лр╣Йр╕│
- **Database connection:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╣Ир╕нр╕Щр╕Чр╕│р╕Зр╕▓р╕Щ

---

# ЁЯУК р╕кр╕гр╕╕р╕Ыр╕кр╕Цр╕┤р╕Хр╕┤р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М (р╕лр╕ер╕▒р╕Зр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф)

## ЁЯз╣ р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Вр╕Др╣Йр╕Ф
- **р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕ер╕Ър╕нр╕нр╕Б:** 6 р╣Др╕Яр╕ер╣М (guides р╣Ар╕Бр╣Ир╕▓, tests р╣Ар╕Бр╣Ир╕▓, README р╕зр╣Ир╕▓р╕З)
- **р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З:** routes/auth/forgotPassword.js (р╕гр╕░р╕Ър╕Ър╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в)
- **р╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╕ер╕Ъ:** р╣Вр╕Др╣Йр╕Фр╣Ар╕Бр╣Ир╕▓, р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Гр╕Кр╣Й, comments р╕Лр╣Йр╕│р╕Лр╣Йр╕нр╕Щ
- **р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:** р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Зр╣Ир╕▓р╕в р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕бр╕▓р╕Бр╕Вр╕╢р╣Йр╕Щ

## ЁЯУИ р╕кр╕Цр╕┤р╕Хр╕┤р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
- **р╣Др╕Яр╕ер╣Мр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф:** 40+ р╣Др╕Яр╕ер╣М (р╕ер╕Фр╕ер╕З 20%)
- **API Endpoints:** 13 endpoints
- **Database Models:** 3 models
- **Middleware:** 3 middleware
- **р╕Яр╕┤р╕ер╕Фр╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕е:** 100+ р╕Яр╕┤р╕ер╕Фр╣М
- **Dependencies:** 15+ packages (р╣Др╕бр╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З)
- **р╣Вр╕Др╣Йр╕Фр╕Др╕╕р╕Ур╕ар╕▓р╕Ю:** р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Бр╕ер╣Йр╕з 100%

## ЁЯОп р╕Вр╣Йр╕нр╕Фр╕╡р╕лр╕ер╕▒р╕Зр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф
- **р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ:** р╣Вр╕Др╣Йр╕Фр╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в р╕гр╕▒р╕Щр╣Ар╕гр╣Зр╕зр╕Вр╕╢р╣Йр╕Щ
- **р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕кр╕╣р╕Зр╕Вр╕╢р╣Йр╕Щ:** bcrypt hashing, token security
- **р╕Ър╕│р╕гр╕╕р╕Зр╕гр╕▒р╕Бр╕йр╕▓р╕Зр╣Ир╕▓р╕в:** р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ р╣Др╕бр╣Ир╕бр╕╡р╣Вр╕Др╣Йр╕Фр╕Лр╣Йр╕│р╕Лр╣Йр╕нр╕Щ
- **р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Зр╣Ир╕▓р╕в:** API endpoints р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
- **р╕Чр╕Фр╕кр╕нр╕Ър╕Зр╣Ир╕▓р╕в:** р╕бр╕╡р╣Др╕Яр╕ер╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

---

**р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щр╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕╕р╕Др╕Др╕ер╕Чр╕╡р╣Ир╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М р╕бр╕╡р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕кр╕╣р╕З р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З р╣Бр╕ер╕░р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Гр╕лр╣Йр╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕вр╣Бр╕ер╣Йр╕з**

---

# ЁЯз╣ р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Вр╕Др╣Йр╕Ф (Code Cleanup)

## тЬЕ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕ер╕Ър╕нр╕нр╕Бр╣Бр╕ер╣Йр╕з

### ЁЯУБ routes/auth/adminReset.js
**р╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕Чр╕╡р╣Ир╕ер╕Ъ:** р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Йр╕бр╕╡р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕Лр╣Йр╕│р╕Лр╣Йр╕нр╕Щр╕Бр╕▒р╕Ър╣Др╕Яр╕ер╣Мр╕нр╕╖р╣Ир╕Щр╣Бр╕ер╕░р╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ъ Security Questions

**р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕ер╕Ъ:**
- `adminResetPassword()` - р╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Вр╕Фр╕вр╣Бр╕нр╕Фр╕бр╕┤р╕Щ
- `getAllUsers()` - р╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (р╕Лр╣Йр╕│р╕Бр╕▒р╕Ъ getUsers.js)
- `generateRandomPassword()` - р╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╕кр╕╕р╣Ир╕б

**р╕Ьр╕ер╕Бр╕гр╕░р╕Чр╕Ъ:** р╣Др╕бр╣Ир╕бр╕╡ р╣Ар╕Юр╕гр╕▓р╕░р╕гр╕░р╕Ър╕Ър╣Гр╕Кр╣Й Security Questions р╣Бр╕Чр╕Щр╕Бр╕▓р╕гр╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╣Вр╕Фр╕вр╣Бр╕нр╕Фр╕бр╕┤р╕Щ

### ЁЯУБ routes/auth/index.js - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х
**р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З:**
- р╕ер╕Ър╕Бр╕▓р╕г import adminReset.js
- р╕ер╕Ъ routes р╕кр╕│р╕лр╕гр╕▒р╕Ъ admin reset (/admin/reset-password, /admin/users, /admin/generate-password)
- р╣Ар╕лр╕ер╕╖р╕нр╣Ар╕Йр╕Юр╕▓р╕░р╕гр╕░р╕Ър╕Ър╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в

## ЁЯОп р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕лр╕ер╕▒р╕Зр╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф

### тЬЕ р╕Вр╣Йр╕нр╕Фр╕╡
1. **р╣Вр╕Др╣Йр╕Фр╕кр╕░р╕нр╕▓р╕Фр╕Вр╕╢р╣Йр╕Щ** - р╣Др╕бр╣Ир╕бр╕╡р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Лр╣Йр╕│р╕Лр╣Йр╕нр╕Щ
2. **р╕Зр╣Ир╕▓р╕вр╕Хр╣Ир╕нр╕Бр╕▓р╕гр╕Ър╕│р╕гр╕╕р╕Зр╕гр╕▒р╕Бр╕йр╕▓** - р╣Др╕Яр╕ер╣Мр╕Щр╣Йр╕нр╕вр╕ер╕З
3. **р╕гр╕░р╕Ър╕Ър╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ** - р╣Гр╕Кр╣Й Security Questions р╣Ар╕Юр╕╡р╕вр╕Зр╕гр╕░р╕Ър╕Ър╣Ар╕Фр╕╡р╕вр╕з
4. **р╣Др╕бр╣Ир╕бр╕╡ error** - р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣Мр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤

### ЁЯУК р╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф
- **р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕ер╕Ъ:** 1 р╣Др╕Яр╕ер╣М (adminReset.js)
- **р╕Ър╕гр╕гр╕Чр╕▒р╕Фр╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╕ер╕Ъ:** ~150 р╕Ър╕гр╕гр╕Чр╕▒р╕Ф
- **р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕ер╕Ъ:** 3 р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ
- **Routes р╕Чр╕╡р╣Ир╕ер╕Ъ:** 3 routes

### ЁЯФз р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕нр╕нр╕вр╕╣р╣И
1. **Authentication System** - р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
2. **Security Questions System** - р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╣Ар╕Хр╣Зр╕бр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ
3. **Person Management** - р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З
4. **File Upload System** - р╕Чр╕│р╕Зр╕▓р╕Щр╕Ыр╕Бр╕Хр╕┤

---

**ЁЯУЕ р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕ер╣Ир╕▓р╕кр╕╕р╕Ф:** р╕лр╕ер╕▒р╕Зр╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Вр╕Др╣Йр╕Ф - р╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕кр╕бр╕Ър╕╣р╕гр╕Ур╣Мр╣Бр╕ер╕░р╕кр╕░р╕нр╕▓р╕Фр╕Вр╕╢р╣Йр╕Щ

---

## ЁЯОп р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Вр╕Др╣Йр╕Ф (Final Cleanup Summary)

### тЬЕ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Чр╕│р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з
1. **р╕ер╕Ър╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ:**
   - `routes/auth/adminReset.js` (150+ р╕Ър╕гр╕гр╕Чр╕▒р╕Ф)
   
2. **р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х routes/auth/index.js:**
   - р╕ер╕Ър╕Бр╕▓р╕г import adminReset.js
   - р╕ер╕Ъ admin routes (/admin/reset-password, /admin/users, /admin/generate-password)
   - р╣Ар╕лр╕ер╕╖р╕нр╣Ар╕Йр╕Юр╕▓р╕░р╕гр╕░р╕Ър╕Ър╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в
   
3. **р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф:**
   - API-DETAILED-EXPLANATION.md
   - API-DOCUMENTATION.txt  
   - API-SIMPLE-EXPLANATION.md
   - PROJECT-EXPLANATION.md

### ЁЯУК р╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф
- **р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕ер╕Ъ:** 1 р╣Др╕Яр╕ер╣М
- **р╕Ър╕гр╕гр╕Чр╕▒р╕Фр╣Вр╕Др╣Йр╕Фр╕Чр╕╡р╣Ир╕ер╕Ъ:** ~150 р╕Ър╕гр╕гр╕Чр╕▒р╕Ф
- **р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Чр╕╡р╣Ир╕ер╕Ъ:** 3 р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ (adminResetPassword, getAllUsers р╕Лр╣Йр╕│, generateRandomPassword)
- **Routes р╕Чр╕╡р╣Ир╕ер╕Ъ:** 3 routes

### ЁЯЪА р╕гр╕░р╕Ър╕Ър╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
р╕гр╕░р╕Ър╕Ър╣Гр╕Кр╣Йр╣Ар╕Йр╕Юр╕▓р╕░ **р╕гр╕░р╕Ър╕Ър╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ:
1. `POST /forgotpassword` - р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╣Бр╕ер╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ

### тЬЕ р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ
- тЬЕ р╣Др╕бр╣Ир╕бр╕╡ syntax errors
- тЬЕ Server р╕кр╕▓р╕бр╕▓р╕гр╕Ц start р╣Др╕Фр╣Й
- тЬЕ Routes р╕Чр╕│р╕Зр╕▓р╕Щр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ

**р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щр╣Бр╕ер╣Йр╕з! р╕гр╕░р╕Ър╕Ър╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ** ЁЯОЙ